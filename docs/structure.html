
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SPIF Structure &#8212; Python  documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="SPIF File Definition" href="definition.html" />
    <link rel="prev" title="SPIF - Single Particle Image Format" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="definition.html" title="SPIF File Definition"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="SPIF - Single Particle Image Format"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Python  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SPIF Structure</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="structure">
<h1>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h1>
<p>The SPIF file uses the <a class="reference external" href="https://www.unidata.ucar.edu/software/netcdf/">NetCDF4 format</a>. NetCDF4 is a structured binary file format capable of containing large datasets and has automatic compression utilities. NetCDF4 is widely supported on a variety of platforms and environments.</p>
<p>In a similar fashion to the <a class="reference external" href="http://cfconventions.org/">CF (Climate and Forecast) Conventions</a>, the SPIF conventions define a minimum structure, in terms of groups, variables, and attributes, for compliance. Any additional data contained within the file is optional but should not conflict with the standards. Any suggested but optional data for inclusion are given in <em>italics</em>. Due to the focussed type of data, SPIF conventions are more demanding of variable and attribute names than the CF conventions are. SPIF follows the CF <a class="reference external" href="http://cfconventions.org/Data/cf-conventions/cf-conventions-1.8/cf-conventions.html#groups">scoping guidelines</a> in that dimensions are visible to all child groups.</p>
<div class="section" id="instrument-channels">
<h2>Instrument Channels<a class="headerlink" href="#instrument-channels" title="Permalink to this headline">¶</a></h2>
<p>Data is contained within <strong>instrument channel groups</strong> inside the SPIF file. Only data from a single probe is contained in a single SPIF file however some instruments may have more than one channel, for example the <a class="reference external" href="http://www.specinc.com/2d-s-stereo-probe-operation">SPEC 2DS</a> has vertical and horizontal channels with each detecting particles independently, essentially behaving
as independent instruments. For a probe that is made up of multiple instru-
ments (e.g., 2DS, 3V-CPI, etc) where the particle detection will not be coincident,
data is split into different instrument groups but this allows keeping these data together in a single file. The instrument channel group names are not pre-defined but should be self-explainatory and further information is included as attributes of these groups.</p>
</div>
<div class="section" id="raw-image-array-structure">
<span id="image-array-structure"></span><h2>Raw Image Array Structure<a class="headerlink" href="#raw-image-array-structure" title="Permalink to this headline">¶</a></h2>
<p>Flattened image data is stored in the instrument <code class="docutils literal notranslate"><span class="pre">core</span></code> group as a 1-dimensional array. The length of this array is the product of the number of images, given by the dimension <code class="docutils literal notranslate"><span class="pre">image_num</span></code>, and the width and height of each image. Depending on the type of instrument, the width and/or height may be fixed or variable for each image.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is (in)conceivable that a future probe may natively produce 3-dimensional images. In this case the 1-dimensional image array would still work perfectly well, just another variable of <code class="docutils literal notranslate"><span class="pre">length</span></code> in this new dimension would need to be added. Something for a new version of the convention once/if that ever happens!</p>
</div>
<p>In order to reconstruct the 2-dimensional images from the flattened array two variables are provided, <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code>, these are of length <code class="docutils literal notranslate"><span class="pre">image_num</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is possible that <code class="docutils literal notranslate"><span class="pre">width</span></code> is given as a scalar variable instead of an array of length <code class="docutils literal notranslate"><span class="pre">image</span></code>.</p>
</div>
<p>More details about this is included in the section on <a class="reference internal" href="definition.html#core"><span class="std std-ref">Instrument Core Group</span></a>.</p>
</div>
<div class="section" id="mandatory-and-optional-contents">
<h2>Mandatory and Optional Contents<a class="headerlink" href="#mandatory-and-optional-contents" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, the SPIF definition is somewhat constrained to ensure that standard-compliant files contain all the information/data required for future processing. SPIF files must contain, as a minimum, a set of mandatory parameters. That is groups, attributes, and (coordinate) variables.</p>
<blockquote>
<div><p><a class="reference internal" href="spif_mandatory_params.html"><span class="doc">List of Mandatory Parameters</span></a></p>
</div></blockquote>
<p>In addition to these mandatory netCDF parameters, a SPIF file can be extended with additional groups, attributes, and (coordinate) variables. It may assist users if these added parameters are familiar and so some suggested optional parameters are listed below.</p>
<blockquote>
<div><p><a class="reference internal" href="spif_optional_params.html"><span class="doc">List of Optional Parameters</span></a></p>
<blockquote>
<div></div></blockquote>
</div></blockquote>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Structure</a><ul>
<li><a class="reference internal" href="#instrument-channels">Instrument Channels</a></li>
<li><a class="reference internal" href="#raw-image-array-structure">Raw Image Array Structure</a></li>
<li><a class="reference internal" href="#mandatory-and-optional-contents">Mandatory and Optional Contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">SPIF - Single Particle Image Format</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="definition.html"
                        title="next chapter">SPIF File Definition</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/structure.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="definition.html" title="SPIF File Definition"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="SPIF - Single Particle Image Format"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Python  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">SPIF Structure</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright undecided.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>